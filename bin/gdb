#! /bin/bash

panic()
{
	echo "FATAL ERROR: $@" 1>&2
	exit 1
}

eprint()
{
	echo "$@" 1>&2
}

cmd_dir=`dirname $0` || panic "cannot get command directory"
debug_level=${SDE_DEBUG_LEVEL:-0}

#abs_cmd_dir=`readlink -f $cmd_dir` || panic "readlink failed"

if [ -z "$SDE_DB" ]; then
	panic "SDE_DB not set"
fi
if [ ! -x "$SDE_DB" ]; then
	panic "no execute permission on file $SDE_DB"
fi

unset opts
opts+=("$@")

if [ $debug_level -gt 0 ]; then
	eprint "Running $SDE_DB ${opts[@]}"
fi
"$SDE_DB" "${opts[@]}"

